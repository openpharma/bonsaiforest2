% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/estimate_subgroup_effects.R
\name{estimate_subgroup_effects}
\alias{estimate_subgroup_effects}
\title{Estimate Marginal Subgroup Treatment Effects}
\usage{
estimate_subgroup_effects(
  brms_fit,
  original_data,
  trt_var,
  subgroup_vars = "auto",
  response_type = c("continuous", "binary", "count", "survival"),
  ndraws = NULL
)
}
\arguments{
\item{brms_fit}{A fitted `brmsfit` object from `fit_brms_model()` or
`run_brms_analysis()`.}

\item{original_data}{A `data.frame` containing the data. Used for validation
and structure, while internal predictions use the model's processed data.}

\item{trt_var}{A character string specifying the name of the treatment variable.}

\item{subgroup_vars}{A character vector of subgroup variable names.
If "auto", detects both fixed interaction terms (Colon syntax) and
random effect grouping factors (Pipe syntax).}

\item{response_type}{The type of outcome variable. One of "binary", "count",
"continuous", or "survival".}

\item{ndraws}{An integer specifying the number of posterior draws to use.
If `NULL` (default), all available draws are used.}
}
\value{
A `data.frame` (tibble) where each row corresponds to a subgroup
(or the "Overall" effect), providing the estimated marginal effect and
posterior summaries (e.g., `mean`, `sd`, `q2.5`, `q97.5`).
}
\description{
The function uses a counterfactual, marginal approach based on the posterior
predictive distribution. It averages over all other covariates to provide
robust estimates of subgroup-specific effects.
}
\details{
This post-processing function estimates marginal treatment effects for
specified subgroups from a fitted `brmsfit` object.
}
