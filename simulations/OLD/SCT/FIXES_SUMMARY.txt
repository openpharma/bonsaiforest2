SUNFISH SIMULATION FIXES APPLIED
=================================

1. SUBGROUP VARIABLES (x_6 to x_10 removal)
   ✓ Updated simulations/functions.R - subgroup_method_endpoint() uses only x_1 to x_5
   ✓ Updated Horseshoe_low.R - covariate_set uses only 5 variables
   ✓ Updated Horseshoe_mid.R - covariate_set uses only 5 variables  
   ✓ Updated Horseshoe_strong.R - covariate_set uses only 5 variables
   ✓ Updated R2D2_low.R - covariate_set uses only 5 variables
   ✓ Updated R2D2_mid.R - covariate_set uses only 5 variables
   ✓ Updated R2D2_strong.R - covariate_set uses only 5 variables

2. MISSING FUNCTION (generate_stacked_data)
   ✓ Added generate_stacked_data() to simulations/functions.R
   ✓ Handles survival, binary, count, and continuous endpoints
   ✓ Ensures factor levels are preserved for small subgroups
   ✓ Creates stacked data format for naive subgroup analysis

3. JOIN_KEY CONSISTENCY (Results_analysis.Rmd)
   ✓ Updated sanitize_subgroups() to preserve dot notation (x_1.2-5y -> S_1.2-5y)
   ✓ Updated Results_analysis.Rmd truth join_key creation (x_1.2-5y -> 1.2-5y)
   ✓ Updated Results_analysis.Rmd naive estimator join_key (S_1.2-5y -> 1.2-5y)
   ✓ Updated Results_analysis.Rmd bonsaiforest2 join_key (x_1: 2-5y -> 1.2-5y)

NAMING CONVENTION:
- Truth data: x_1.2-5y, x_2.Type2, x_3.2_copies, x_4.Severe_leQ1, x_5.Europe
- Naive results: S_1.2-5y, S_2.Type2, S_3.2_copies, S_4.Severe_leQ1, S_5.Europe
- BF2 results: x_1: 2-5y, x_2: Type2, x_3: 2_copies, x_4: Severe_leQ1, x_5: Europe
- Join key: 1.2-5y, 2.Type2, 3.2_copies, 4.Severe_leQ1, 5.Europe

All formats now map correctly to the same join_key for merging with truth values.
